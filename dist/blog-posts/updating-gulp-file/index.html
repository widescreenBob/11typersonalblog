<!doctype html>
<html lang="en"s>
  <head>
    <title>Updating my gulp tasks</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style/style.css">
    <link rel='icon' href='favico.ico' type='image/x-icon'/ >
  </head>
  <body>
    <a class="header-skip-link visually-hidden" href="#main-content">Skip to content</a>
<header role="banner">
  <div class="header">
    <div class="header__upper">
      <h1><a href="/" aria-label="Home page">Tobias Williams</a></h1>
    </div>
    <div class="header__lower">
      <div class="header__social">
        <a href="https://twitter.com/widescreen_bob" class="header__social-item twitter">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 71">
            <path d="M23.47 60.86c22.64 0 35.03-18.76 35.03-35.03 0-.53 0-1.06-.04-1.59 2.41-1.74 4.49-3.9 6.14-6.37-2.25 1-4.63 1.65-7.07 1.94 2.57-1.54 4.49-3.96 5.41-6.81a24.943 24.943 0 01-7.82 2.99c-4.66-4.96-12.46-5.2-17.42-.53-3.2 3.01-4.55 7.49-3.56 11.76-9.9-.5-19.12-5.17-25.37-12.86-3.27 5.62-1.6 12.82 3.81 16.43-1.95-.07-3.87-.59-5.58-1.55v.16c0 5.86 4.13 10.91 9.88 12.07-1.81.49-3.71.57-5.56.21 1.61 5.01 6.23 8.45 11.5 8.55a24.644 24.644 0 01-18.22 5.1 34.962 34.962 0 0018.87 5.53" fill="#b32e22"/>
          </svg>
          <span class="visually-hidden">Read Tobias' tweets</span>
        </a>
        <a href="https://www.drupal.org/u/widescreen_bob" class="header__social-item drupal">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 71">
            <path fill="#B32E22" d="M44.18 19.46c-3.88-3.87-7.57-7.57-8.67-11.73-1.08 4.16-4.8 7.86-8.68 11.73-5.81 5.81-12.4 12.39-12.4 22.27-.25 11.64 8.98 21.28 20.62 21.53s21.28-8.98 21.53-20.62c.01-.31.01-.61 0-.92 0-9.87-6.59-16.45-12.4-22.26z"/>
          </svg>
          <span class="visually-hidden">See Tobias' Drupal Profile</span>
        </a>
        <a href="https://github.com/widescreenBob" class="header__social-item github">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 71">
            <path fill-rule="evenodd" clip-rule="evenodd" fill="#B32E22" d="M35.5 6.53c-16.4 0-29.7 13.3-29.7 29.7 0 13.12 8.51 24.25 20.31 28.18 1.49.27 2.03-.64 2.03-1.43 0-.71-.03-2.57-.04-5.05-8.26 1.79-10-3.98-10-3.98-1.35-3.43-3.3-4.34-3.3-4.34-2.7-1.85.2-1.81.2-1.81 2.98.21 4.55 3.06 4.55 3.06 2.65 4.54 6.95 3.23 8.64 2.47.27-1.92 1.04-3.23 1.89-3.97-6.59-.75-13.53-3.3-13.53-14.68 0-3.24 1.16-5.89 3.06-7.97-.31-.75-1.32-3.77.29-7.86 0 0 2.49-.8 8.17 3.04 2.37-.66 4.91-.99 7.44-1 2.52.01 5.06.34 7.44 1 5.67-3.84 8.16-3.04 8.16-3.04 1.62 4.09.6 7.11.3 7.86 1.9 2.08 3.05 4.73 3.05 7.97 0 11.41-6.94 13.92-13.56 14.66 1.07.92 2.02 2.73 2.02 5.5 0 3.97-.04 7.17-.04 8.15 0 .79.53 1.72 2.04 1.43C56.7 60.48 65.2 49.35 65.2 36.24c0-16.41-13.3-29.71-29.7-29.71z"/>
          </svg>
          <span class="visually-hidden">See Tobias' Github Profile</span>
        </a>
        <a href="https://codepen.io/widescreenBob/" class="header__social-item codepen">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 71">
            <g fill="#B32E22">
              <path d="M35.5 6.66C19.57 6.66 6.66 19.57 6.66 35.5S19.57 64.34 35.5 64.34 64.34 51.43 64.34 35.5 51.43 6.66 35.5 6.66zm0 52.94c-13.29 0-24.1-10.81-24.1-24.1s10.81-24.1 24.1-24.1c13.29 0 24.1 10.81 24.1 24.1S48.79 59.6 35.5 59.6z"/>
              <path d="M53.32 29.87c0-.02-.01-.04-.01-.07l-.03-.13c-.01-.03-.02-.05-.02-.07a.358.358 0 00-.04-.11c-.01-.03-.02-.05-.03-.08-.02-.03-.03-.07-.05-.1-.01-.02-.03-.05-.04-.07l-.06-.09c-.02-.02-.03-.04-.05-.07a.304.304 0 00-.08-.08l-.06-.06a.55.55 0 00-.09-.07.304.304 0 00-.07-.05c-.01-.01-.02-.01-.03-.02l-16.3-10.87c-.51-.34-1.19-.34-1.7 0L18.36 28.8c-.01.01-.02.01-.03.02-.02.02-.05.03-.07.05-.03.02-.06.05-.09.07l-.06.06-.08.08a.18.18 0 00-.05.07l-.06.09c-.02.02-.03.05-.04.07-.02.03-.04.07-.05.1-.01.02-.02.05-.03.08-.02.04-.03.07-.04.11-.01.02-.02.05-.02.07l-.03.13c0 .02-.01.04-.01.07-.01.07-.01.13-.01.2v10.87c0 .07.01.13.01.2 0 .02.01.04.01.07l.03.13c.01.03.02.05.02.07.01.04.02.08.04.11.01.03.02.05.03.07.02.03.03.07.05.1.01.02.03.05.04.07l.06.09c.02.02.03.05.05.07.02.03.05.06.08.08l.06.06c.03.03.06.05.09.07.02.02.05.04.07.05.01.01.02.01.03.02l16.3 10.87c.26.17.55.26.85.26.3 0 .59-.09.85-.26l16.3-10.87c.01-.01.02-.01.03-.02.02-.02.05-.03.07-.05.03-.02.06-.05.09-.07l.06-.06.08-.08a.18.18 0 00.05-.07l.06-.09c.01-.02.03-.05.04-.07.02-.03.04-.07.05-.1.01-.02.02-.05.03-.07.01-.04.03-.08.04-.11.01-.02.02-.05.02-.07l.03-.13c0-.02.01-.04.01-.07.01-.07.01-.13.01-.2V30.07c0-.07 0-.14-.01-.2zm-16.29-7.8l12.01 8-5.36 3.59-6.64-4.44v-7.15zm-3.06 0v7.15l-6.64 4.44-5.36-3.59 12-8zM20.73 32.94l3.83 2.56-3.83 2.56v-5.12zm13.24 16l-12.01-8 5.36-3.59 6.64 4.44v7.15zm1.53-9.81l-5.42-3.63 5.42-3.63 5.42 3.63-5.42 3.63zm1.53 9.81v-7.15l6.64-4.44 5.36 3.59-12 8zm13.24-10.88l-3.83-2.56 3.83-2.56v5.12z"/>
            </g>
          </svg>
          <span class="visually-hidden">See Tobias' Codepens pens</span>
        </a>
      </div>
      <div class="header__bar"><span class="header-shadow"></span></div>
    </div>
  </div>
</header>
    <section class="main" role="main" id="main-content">
      <div class="post__container">
  <h2> Updating my gulp tasks </h2>
  <div class="post__date"> Fri Jul 10 2020 </div>
  <div class="post__image">
    <img src='/img/gulpBlog.jpg' alt='The 11ty logo'>
  </div>
  <section class="l-two-col-70-30">
  <div class="l-two-col-left">
    <div class="post__content">
      <h3>Updating my gulp tasks to gulp 4 format.</h3>
<p>I have a tendancy to set and forget build tools. They work, or seem to, why is a question for the philosophers. However, with the change from gulp 3 to 4 I was keen to make sure I had at least a basic understanding of what that looked like, and make sure that I was taking advantage of what gulp 4 could offer.</p>
<p>One of the most useful features is the ability to run tasks in series, or in parallel. The more complex or larger the build, the longer build tasks can take. Tasks that can occur at the same time should now use the parallel syntax, allowing us to reduce the build time.</p>
<code>
gulp.parallel('scripts', 'styles')
</code>
<p>Series, by contrast, allows you to set the order of the tasks so you can ensure one is completed before the next is run.</p>
<code>
gulp.series('scripts', 'styles')
</code>
<p>So interesting, it seems like I was partly there. I was using the parallel and series syntax. There was an opportunity for me to use named functions vs the node 3.9 gulp.task declarations I was using.</p>
<p>My old task:<br>
<code><br>
gulp.task('min-image', function minImageTask() {<br>
  return gulp<br>
    .src('src/img/*')<br>
    .pipe(imagemin())<br>
    .pipe(gulp.dest('dist/img'));<br>
});<br>
</code></p>
<p>The updated task:<br>
<code><br>
function minImageTask() {<br>
  return gulp<br>
    .src('src/img/*')<br>
    .pipe(imagemin())<br>
    .pipe(gulp.dest('dist/img'));<br>
}<br>
<br/><br>
exports.images = minImageTask;<br>
</code></p>
<p>Some things to note, any exported functions will be registered into gulp's task system. So above we are exporting images, and in our package.json file we have:<br>
<code><br>
scripts {<br>
  &quot;images&quot;: &quot;gulp images&quot;,<br>
}<br>
</code></p>
<p>So you can see we have access to the task in a similar way that we did in gulp 3.9.</p>
<p>For my build task which is the only complex multitask I added a const to store the task:</p>
<code>
const build = gulp.parallel(lintScss, lintJs, js, css, minImageTask);
<br/>
exports.build = build;
</code>
    </div>
  </div>
  <div class="l-two-col-right">
  <ul>
  <h3>Other Posts</h3>
      <li><a href="/blog-posts/setting-up-this-site/"><h4 class="homepage__blog-title">Creating this site with eleventy</h4></a>
      </li>
    
      <li><a href="/blog-posts/setting-up-this-site-2/"><h4 class="homepage__blog-title">Creating this site with eleventy part 2</h4></a>
      </li>
    
      <li><a href="/blog-posts/setting-up-this-site-3/"><h4 class="homepage__blog-title">Creating this site with eleventy part 3</h4></a>
      </li>
    
      <li><a href="/blog-posts/next-steps/"><h4 class="homepage__blog-title">What now, and trying not to run out of gas.</h4></a>
      </li>
    
      <li><a href="/blog-posts/cypress-testing/"><h4 class="homepage__blog-title">Cypress Testing</h4></a>
      </li>
    
      <li><a href="/blog-posts/cypress-testing-part-two/"><h4 class="homepage__blog-title">Cypress Testing 2</h4></a>
      </li>
    </ul>
  </div>
</div>


    </section>
    <footer>
      <div class="footer-text">Since 2020.</div>
      <script src="./js/addAltText.js"></script>
      <script src="./js/modal.js"></script>
    </footer>
  </body>
</html>
